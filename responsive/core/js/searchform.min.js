document.addEventListener("DOMContentLoaded",function(){let containers=document.getElementsByClassName("responsive-header-search");var search_link=document.getElementById("res-search-link"),search_style=document.getElementById("full-screen-res-search-link"),search_close=document.getElementById("search-close"),searchSubmits=document.querySelectorAll(".search-submit");if(search_link&&0<containers.length){let sibling;search_link.addEventListener("click",function(){(sibling=this.parentNode.querySelector(".search-type-responsive-slide"))&&Array.from(containers).forEach(container=>{let search_form=container.querySelector("#searchform");search_form&&(sibling.classList.add("search-active"),setTimeout(()=>{search_form.querySelector("input[type='search']").focus()},50))})}),document.addEventListener("click",function(event){Array.from(containers).forEach(function(container){container.querySelector("#searchform")&&sibling&&!container.contains(event.target)&&sibling.classList.remove("search-active")})})}if(searchSubmits.forEach(searchSubmit=>{searchSubmit.addEventListener("click",function(event){var searchField;this.classList.contains("responsive-header-slide-search")&&(event.preventDefault(),event=this.closest(".search-type-responsive-slide").querySelector(".search-form"))&&(((searchField=event.querySelector(".search-field"))?searchField.value.trim():"")?event.submit():event.parentElement.classList.remove("search-active"))})}),!wpApiSettings.enable_live_search&&1!==wpApiSettings.enable_live_search||document.querySelectorAll(".search-field").forEach(input=>{let resultsPanel=input.closest("form").querySelector(".live-search-results");var performSearch=((func,delay)=>{let timer;return function(...args){clearTimeout(timer),timer=setTimeout(()=>func.apply(this,args),delay)}})(async()=>{var noResultFound,term=input.value.trim();if(resultsPanel.innerHTML="",term)try{let params=new URLSearchParams({search:term,per_page:5});if(0<wpApiSettings.live_search_post_types.length){wpApiSettings.live_search_post_types.forEach(type=>{params.append("subtype[]",type)});var url=((path,params)=>{var separator=wpApiSettings.root.includes("?")?"&":"?";return""+wpApiSettings.root+path+separator+params.toString()})("wp/v2/search",params),data=await(await fetch(url)).json();if(0===data.length){let noResultFound=document.createElement("h3");noResultFound.textContent="No results found",noResultFound.classList.add("live-search-section-title"),resultsPanel.appendChild(noResultFound),void resultsPanel.classList.add("active")}else{let isPageTitleAdded=!1,isPostTitleAdded=!1;data.forEach(item=>{var pageTitle;document.createElement("div").classList.add("live-search-result-item"),"page"===item.subtype?(isPageTitleAdded||((pageTitle=document.createElement("h3")).textContent="Pages",pageTitle.classList.add("live-search-section-title"),resultsPanel.appendChild(pageTitle),isPageTitleAdded=!0),(pageTitle=document.createElement("a")).href=item.url,pageTitle.textContent=item.title,pageTitle.classList.add("live-search-result-link"),resultsPanel.appendChild(pageTitle)):"post"===item.subtype&&(isPostTitleAdded||((pageTitle=document.createElement("h3")).textContent="Posts",pageTitle.classList.add("live-search-section-title"),pageTitle.classList.add("posts"),resultsPanel.appendChild(pageTitle),isPostTitleAdded=!0),(pageTitle=document.createElement("a")).href=item.url,pageTitle.textContent=item.title,pageTitle.classList.add("live-search-result-link"),resultsPanel.appendChild(pageTitle))}),resultsPanel.classList.add("active")}}else(noResultFound=document.createElement("h3")).textContent="No results found",noResultFound.classList.add("live-search-section-title"),resultsPanel.appendChild(noResultFound),resultsPanel.classList.add("active")}catch(err){console.error(err);term=document.createElement("h3");term.textContent="Error fetching results.",term.classList.add("live-search-section-title"),resultsPanel.appendChild(term),resultsPanel.classList.add("active")}else resultsPanel.classList.remove("active"),resultsPanel.innerHTML=""},300);input.addEventListener("input",performSearch)}),search_style&&0<containers.length){let search_style_form=document.getElementById("full-screen-search-wrapper");search_style_form&&(search_style.onclick=function(){search_style_form.style.display="block",search_style_form.style.position="fixed",Array.from(containers).forEach(function(container){container=container.getElementsByTagName("form")[0];container&&(container.style.display="block",container.querySelector("input[type='search']").focus())})})}search_close&&(search_close.onclick=function(){var search_style_form=document.getElementById("full-screen-search-wrapper");search_style_form&&(search_style_form.style.display="none")})});