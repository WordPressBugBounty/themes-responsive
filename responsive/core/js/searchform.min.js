document.addEventListener("DOMContentLoaded",function(){var containers=document.getElementsByClassName("responsive-header-search"),searchSubmits=document.querySelectorAll(".search-submit");Array.from(containers).forEach(function(container){var search_link=container.querySelector(".res-search-link[data-search-link]");if(search_link){let sibling=container.querySelector(".search-type-responsive-slide");sibling&&(search_link.addEventListener("click",function(){let search_form=container.querySelector("#searchform");search_form&&(sibling.classList.add("search-active"),setTimeout(()=>{var search_input=search_form.querySelector("input[type='search']");search_input&&search_input.focus()},50))}),document.addEventListener("click",function(event){container.contains(event.target)||container.querySelector("#searchform")&&sibling.classList.contains("search-active")&&sibling.classList.remove("search-active")}))}}),searchSubmits.forEach(searchSubmit=>{searchSubmit.addEventListener("click",function(event){var searchField;this.classList.contains("responsive-header-slide-search")&&(event.preventDefault(),event=this.closest(".search-type-responsive-slide").querySelector(".search-form"))&&(((searchField=event.querySelector(".search-field"))?searchField.value.trim():"")?event.submit():event.parentElement.classList.remove("search-active"))})}),!wpApiSettings.enable_live_search&&1!==wpApiSettings.enable_live_search||document.querySelectorAll(".search-field").forEach(input=>{let resultsPanel=input.closest("form").querySelector(".live-search-results");var performSearch=((func,delay)=>{let timer;return function(...args){clearTimeout(timer),timer=setTimeout(()=>func.apply(this,args),delay)}})(async()=>{var noResultFound,term=input.value.trim();if(resultsPanel.innerHTML="",term)try{let params=new URLSearchParams({search:term,per_page:5});if(0<wpApiSettings.live_search_post_types.length){wpApiSettings.live_search_post_types.forEach(type=>{params.append("subtype[]",type)});var url=((path,params)=>{var separator=wpApiSettings.root.includes("?")?"&":"?";return""+wpApiSettings.root+path+separator+params.toString()})("wp/v2/search",params),data=await(await fetch(url)).json();if(0===data.length){let noResultFound=document.createElement("h3");noResultFound.textContent="No results found",noResultFound.classList.add("live-search-section-title"),resultsPanel.appendChild(noResultFound),void resultsPanel.classList.add("active")}else{let isPageTitleAdded=!1,isPostTitleAdded=!1;data.forEach(item=>{var pageTitle;document.createElement("div").classList.add("live-search-result-item"),"page"===item.subtype?(isPageTitleAdded||((pageTitle=document.createElement("h3")).textContent="Pages",pageTitle.classList.add("live-search-section-title"),resultsPanel.appendChild(pageTitle),isPageTitleAdded=!0),(pageTitle=document.createElement("a")).href=item.url,pageTitle.textContent=item.title,pageTitle.classList.add("live-search-result-link"),resultsPanel.appendChild(pageTitle)):"post"===item.subtype&&(isPostTitleAdded||((pageTitle=document.createElement("h3")).textContent="Posts",pageTitle.classList.add("live-search-section-title"),pageTitle.classList.add("posts"),resultsPanel.appendChild(pageTitle),isPostTitleAdded=!0),(pageTitle=document.createElement("a")).href=item.url,pageTitle.textContent=item.title,pageTitle.classList.add("live-search-result-link"),resultsPanel.appendChild(pageTitle))}),resultsPanel.classList.add("active")}}else(noResultFound=document.createElement("h3")).textContent="No results found",noResultFound.classList.add("live-search-section-title"),resultsPanel.appendChild(noResultFound),resultsPanel.classList.add("active")}catch(err){console.error(err);term=document.createElement("h3");term.textContent="Error fetching results.",term.classList.add("live-search-section-title"),resultsPanel.appendChild(term),resultsPanel.classList.add("active")}else resultsPanel.classList.remove("active"),resultsPanel.innerHTML=""},300);input.addEventListener("input",performSearch)}),Array.from(containers).forEach(function(container){let search_style_link=container.querySelector(".full-screen-res-search-link[data-search-link]");var unique_id=search_style_link?search_style_link.getAttribute("data-search-link"):null;if(search_style_link&&unique_id){let search_style_form=container.querySelector(`[data-fullscreen-wrapper="${unique_id}"]`)||document.querySelector(`[data-fullscreen-wrapper="${unique_id}"]`);container=container.querySelector(`[data-search-close="${unique_id}"]`)||document.querySelector(`[data-search-close="${unique_id}"]`);search_style_form&&search_style_link.addEventListener("click",function(){search_style_form.style.display="block",search_style_form.style.position="fixed";var search_form=search_style_form.querySelector("form");search_form&&(search_form.style.display="block",search_form=search_form.querySelector("input[type='search']"))&&search_form.focus()}),container&&search_style_form&&(container.addEventListener("click",function(e){e.preventDefault(),search_style_form.style.display="none"}),document.addEventListener("click",function(event){"block"!==search_style_form.style.display||search_style_form.contains(event.target)||event.target===search_style_link||search_style_link.contains(event.target)||(search_style_form.style.display="none")}))}})});